<section id="references"
         (touchstart)="onTouchStart($event)"
         (touchend)="onTouchEnd($event)">
  <div class="content-width">
    <h3>{{ 'references.heading' | translate }}</h3>

    <div class="carousel-container">
      <div class="carousel-wrapper">
        <div class="carousel-track">

          @for (testimonial of testimonials; track testimonial.index) {
            <div class="testimonial-card"
                 [class]="getCardClass($index)"
                 (click)="handleCardClick($index)">
              <app-testimonial-item
                [testimonial]="testimonial"
                [isActive]="isActiveTestimonial($index)">
              </app-testimonial-item>
            </div>
          }

        </div>

        <div class="gradient-overlay left"></div>
        <div class="gradient-overlay right"></div>
      </div>

      <img src="assets/img/5-reference/quotes.svg"
           alt="{{ 'references.quotesAlt' | translate }}"
           id="quotes-icon">

      <div class="navigation">
        <button class="nav-arrow left"
                (click)="handlePrevClick()"
                [disabled]="isAnimating">
          <img src="assets/img/5-reference/arrow_back.svg"
               alt="{{ 'references.previousAlt' | translate }}">
        </button>

        <div class="indicators">
          @for (testimonial of testimonials; track $index) {
            <div class="indicator"
                 [class.active]="isActiveDot($index)"
                 (click)="handleDotClick($index)">
            </div>
          }
        </div>

        <button class="nav-arrow right"
                (click)="handleNextClick()"
                [disabled]="isAnimating">
          <img src="assets/img/5-reference/arrow_forward.svg"
               alt="{{ 'references.nextAlt' | translate }}">
        </button>
      </div>
    </div>
  </div>
</section>
